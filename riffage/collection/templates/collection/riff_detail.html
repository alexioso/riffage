{% extends 'base.html' %}
{% block content %}

	<h2><bold>{{ riff.name }}</bold></h2>

	<table class="riff_detail">
		<colgroup>
			<col style="width:20%">
			<col>
		</colgroup>
		<tr>
			<th>Key:</th>
			<td>{{ riff.riff_key }}</td>
		</tr>
		<tr>
			<th>Time Signature:</th>
			<td>{{ riff.timesig_num }}/{{ riff.timesig_denom }}</td>
		</tr>
		<tr>
			<th>Description:</th>
			<td>{{ riff.desc }}</td>
		</tr>
		<tr>
			<th>Tablature:</th>
			<td>		
				<div class="tablature">
					<pre>{{ riff.tab }}</pre>
				</div>
			</td>
		</tr>
		<tr>
			<th>Tags:</th>
			<td>{{ riff.tags }}</td>
		</tr>
		{% if riff.audio_file %}
		<tr>
			<th>Audio File:</th>
			<td>
				<audio controls>
					<source src="{{ riff.audio_file.url }}">
				</audio>
			</td>
		</tr>
		{% endif %}
		{% if riff.document %}
		<tr>
			<th>Riff Documentation:</th>
			<td>
				<a href="{{ riff.document.url }}">{{ riff.document_filename }}</a>
			</td>
		</tr>
		{% endif %}
	</table>
	
	<div>
		<a href="{% url 'riff_edit' riff.pk %}" class="btn btn-default">Edit Riff</a>
		<button onclick="delete_riff()" class="btn btn-danger">Delete Riff</button>		
	</div>

	<a href="{% url 'collection' %}">Return to Collection</a>

{% endblock %}

{% block scripts %}
	<script>
		function delete_riff() {
			if (confirm('Are you sure you want to delete {{ riff.name }}?')) {
				window.location = "{% url 'delete_riff' riff.pk %}";
			}
		}
	</script>
{% endblock %}
